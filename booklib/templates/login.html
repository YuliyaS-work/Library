<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>BOOKLIB</title>
<style>
    body { font-family: sans-serif; margin:0; padding:20px; background:#C2CADO; font-family: 'Palatino', sans-serif; font-size: 16px; color: #5D5061; }
    .modal button, .btn { width: 240px; height: 33px; padding: 0; box-sizing: border-box;
        border: none;
        border-radius: 6px;
        background: #7395AE;
        color: white;
        font-weight: bold;
        cursor: pointer;
        margin: 0px auto;
        text-align: center;
        line-height: 33px;
        display: block;
        font-family: 'Georgia', sans-serif; font-size: 16px;}
    .overlay { position:fixed; inset:0; background:rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; }
    .modal { background:#fff; padding:24px; border-radius:12px; width:320px; box-shadow:0 6px 24px rgba(0,0,0,0.3); position:relative; }
    .modal h2 { text-align:center; margin-top:0; }
    .modal input { width:320px; padding:8px 10px; border:1px solid #ccc; border-radius:6px; box-sizing: border-box; font-size: 18px; font-family: 'Palatino', sans-serif;}
    .close { position:absolute; top:12px; right:16px; font-size:22px; color:#333; cursor:pointer; text-decoration:none; }
    .login-form { display:block; }
    .register-form { display:none; }
    #show-register:checked ~ .overlay .login-form { display:none; }
    #show-register:checked ~ .overlay .register-form { display:block; }

</style>
</head>
<body>

<!-- Чекбокс для переключения -->
<input type="checkbox" id="show-register" {% if show_register %} checked {% endif %}>

<div class="overlay">

    <!-- Форма входа -->
    <div class="modal login-form">
        <label for="show-register" class="close">&times;</label>
        <h2>Вход в BookLib</h2>
        <form method="POST">
            {% csrf_token %}
            {{ login_form.as_p }}
            {% if login_error %}<p style="color:red;">{{ login_error }}</p>{% endif %}
            <button type="submit" name="login_submit">Войти</button>
            <p style="text-align:center;"><label for="show-register" class="btn">Зарегистрироваться</label></p>
        </form>
    </div>

    <!-- Форма регистрации -->
    <div class="modal register-form">
        <label for="show-register" class="close">&times;</label>
        <h2>Добро пожаловать! Зарегистрируйтесь</h2>
        <form method="POST">
            {% csrf_token %}
            {{ form.as_p }}
            {% if register_error %}<p style="color:red;">{{ register_error }}</p>{% endif %}
            <button type="submit" name="register_submit">Зарегистрироваться</button>
            <p style="text-align:center; margin-top:12px;">
                Уже есть аккаунт?
                <label for="show-register" class="btn">Войти</label>
            </p>
        </form>
    </div>

</div>

</body>
</html>

